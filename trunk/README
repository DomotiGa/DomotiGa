================================================================================

  DomotiGa - Open Source Home Automation for Linux
  Copyright (C) 2008-2011 Ron Klinkien 

================================================================================

DISCLAIMER:
DomotiGa comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law.

Make sure you have read the license file called COPYING, or the programs About window contents.
If you do not agree with it please remove this program from your computer.

How to get DomotiGa up and running:

Login as the user you want to run DomotiGa as.
Unpack this archive, I guess you already did ...

Move/Copy it to the home dir of the user account which is going to run DomotiGa
(no root!)
Check permissions/ownership of the dirs DomotiGa, tvguide, rrd and logs need to
be writeable by the user.

So you have for example:
/home/ron/domotiga

Inside you will find this:

README               - you are reading it now
CHANGELOG            - some notes about changes between versions
COPYING              - the GPL license
AUTHORS              - the author(s)
TODO                 - things to do

<dir> DomotiGa       - the Gambas source code for client/standalone
<dir> DomotiGaServer - the Gambas source code for server
<dir> rrd            - rrd databases and graphs are stored here
<dir> logs           - this is where DomotiGa stores it's logfiles
<dir> icons          - icons used for devices
<dir> install        - files needed for fresh database install
       domotiga.sql  - example database layout and contents
<dir> floorplans     - store your floorplan images here
<dir> tvguide        - directory for xml tvguide related files
<dir> upgrade        - files needed for upgrading database version
<dir> sounds         - sounds to play
<dir> wrappers       - 3rd party library wrappers
<dir> www            - some webserver related stuff (work in progress)

Domotiga.gambas      - a precompiled executable for client/standalone
DomotigaServer.gambas- a precompiled executable for server
domotiga.conf        - config file for client/standalone
server-domotiga.conf - config file for server
(rest of the settings are stored inside the database)

You need a working Gambas environment, either runtime, or development.
Gambas should be version 2.21 or later.
Preferably latest available stable code from svn.

Look on the website http://domotiga.nl for an how-to on how to install it.

Next step, you need to setup an MySQL database for Domotiga.
I have supplied an SQL dump called domotiga.sql.

You can import it like so:

$ cd ~/domotiga
$ mysql -u root -p <yourmysqladminpassword> < install/domotiga.sql

Note: if you want to change the default db user and/or password,
you have to edit domotiga.conf too.

If you already have an older version of DomotiGa running, just make
sure you have copied over latest code and upgrade dir.
And it will upgrade the database automatically upon start.

If you want/need to do it by hand use:
$ mysql -u root -p <yourmysqladminpassword> < upgrade/xxxtoyyy.sql
Where xxx = current DomotiGa version and yyy is next version.

Repeat these steps if you are more that one version behind.

You have a few choices on how you want the basics to run:

* Standalone
You can have a standlone GUI (DomotiGa) as server and only client.
(apart from webclient(s), you do this by setting the Mode to standalone as param
in config file.
This is the default and will talk to all enabled hardware and display the GUI.

* GUI client(s) and CLI server
You can run the DomotiGaServer as server to talk to the hardware and DomotiGa as
client(s), you have to change the Mode parameter in domotiga.conf from
standalone to clientserver.

* GUI client(s) and GUI server
You can use the standalone version as server, but with more DomotiGa instances as clients.
So you configure on with standalone as Mode parameter, and the others as clientserver, make
sure the mysql host and xmlrpc, udp broadcast settings are set correctly for this.

Create shortcut on Desktop

Right click on desktop and create laucher or goto menu editor
(in Preferences on Ubuntu)

New item
Name: DomotiGa
Command: /home/<youruser>/domotiga/Domotiga.gambas
Icon: /home/<youruser>/domotiga/icons/logo.png

If you want to look/change the source code, start the Gambas's IDE
by clicking the icon, or type gambas2 inside a terminal window.

Then select open project and browse to ~/domotiga/DomotiGa

If you want to start DomotiGa from within editor click on icon
to start DomotiGa.

If Authentication is enabled (menu Setup->Main) you can login with:

User: admin
Password: admin
Can create, edit and view.

User: user
Password: user
Can only view.

You can add or change user logins under menu Edit->Users

================================================================================

NOTES:
I repeat; You should not run DomotiGa as 'root'!
It's too much of a security risk.
Use a normal user account with limited privileges.

But make sure that your user account has enough permissions to read
from/write to your serial ports and run commands needed for DomotiGa,
like for example; hcitool (bluetooth) and rrdtool (for graphing) etc.

Add the user to the group 'dialout' for serial port access if not already done.
All hardware and software modules are disabled by default, goto the
Setup menu to configure and enable them.

Read the docs on the website for more information.

If things don't work enable debug information for this module and
examine debug log.

If you get this error when you switch program language to Dutch:
WARNING: cannot switch to language 'nl_NL.UTF-8'.
Did you install the corresponding locale?

You have to install the Dutch language pack like so:
$ sudo apt-get install language-pack-nl-base

================================================================================

If you want your home automation hardware to be supported, you can donate it,
lend it to me, or send me the specs and I see what I can do. ;-)

Thanks to the guys at www.domoticaforum.eu, www.rfxcom.com and ezhome.nl!

For more up-to-date information visit http://domotiga.nl

HAVE FUN NOW!

Regards,
Ron Klinkien aka RDNZL

support@domotiga.nl
Dordrecht, The Netherlands
